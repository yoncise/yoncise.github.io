---
layout: default
---
{% assign page_year = page.name | split: "." | first %}

<div class="posts">
  {% for post in site.categories.diaries %}
  {% assign post_year = post.date | date: "%Y" %}
  {% if page_year == post_year %}
  <div class="post">
    <h1 class="post-title">
      <a href="{{ post.url | absolute_url }}">
        {{ post.title }}
      </a>
    </h1>
  </div>
  {% endif %}
  {% endfor %}
</div>

{% assign idx_list = site.pages | where:"layout", "diary_idx" | sort: "name" %}
{% for idx in idx_list %}
  {% if page.url == idx.url  %}
    {% unless forloop.index == 1 %}
        {% assign prev = forloop.index | plus: -2 %}
        {% assign prev_idx = idx_list[prev] %}
    {% endunless %}
    {% assign next_idx = idx_list[forloop.index] %}
    {% break %}
  {% endif %}
{% endfor %}

<div class="pagination">
  {% if prev_idx %}
    <a class="pagination-item older" href="{{ prev_idx.url | absolute_url }}">Older</a>
  {% else %}
    <span class="pagination-item older">Older</span>
  {% endif %}
  {% if next_idx %}
    <a class="pagination-item newer" href="{{ next_idx.url | absolute_url }}">Newer</a>
  {% else %}
    <span class="pagination-item newer">Newer</span>
  {% endif %}
</div>
