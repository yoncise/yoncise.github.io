---
layout: default
---
{% assign page_year = page.name | split: "." | first %}

<div class="posts">
  {% for post in site.categories.diary %}
  {% assign post_year = post.date | date: "%Y" %}
  {% if page_year == post_year %}
  <div class="post">
    <h1 class="post-title">
      <a href="{{ post.url | absolute_url }}">
        {{ post.title }}
      </a>
    </h1>
  </div>
  {% endif %}
  {% endfor %}
</div>

{% assign diaries = site.pages | where:"layout", "diary" | sort: "name" %}
{% for diary in diaries %}
  {% if page.url == diary.url  %}
    {% if forloop.index == 1 %}
        {% assign prev = nil %}
    {% else %}
        {% assign prev_idx = forloop.index | plus: -1 %}
        {% assign prev = diaries[prev_idx] %}
    {% endif %}
    {% assign next = diaries[forloop.index] %}
    {% break %}
  {% endif %}
{% endfor %}

<div class="pagination">
  {% if prev %}
    <a class="pagination-item older" href="{{ prev.url | absolute_url }}">Older</a>
  {% else %}
    <span class="pagination-item older">Older</span>
  {% endif %}
  {% if next %}
    <a class="pagination-item newer" href="{{ next.url | absolute_url }}">Newer</a>
  {% else %}
    <span class="pagination-item newer">Newer</span>
  {% endif %}
</div>
